<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>TatvaBot â€“ Gardening Assistant</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root{
      --green:#14532d;
      --muted:#f3f4f6;
      --bubble-bg:#e5e7eb;
      --text:#111827;
      --accent:#16a34a;
    }
    html,body{height:100%;margin:0;font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial;}
    body{background:var(--muted);display:flex;align-items:center;justify-content:center;padding:20px;}

    .chat-wrapper{
      width:100%;max-width:920px;background:#fff;border-radius:12px;box-shadow:0 10px 30px rgba(2,6,23,0.12);display:grid;
      grid-template-columns:1fr 360px;overflow:hidden;
    }

    .left{
      padding:18px 20px;display:flex;flex-direction:column;gap:12px;
      min-height:560px;
    }
    .chat-header{background:var(--green);color:#fefce8;padding:14px 16px;border-radius:8px;font-weight:600;display:flex;align-items:center;justify-content:space-between;}
    .chat-header small{display:block;font-weight:400;font-size:12px;opacity:.95}
    .chat-window{background:#fafafa;border-radius:8px;padding:14px;flex:1;overflow:auto;min-height:360px}
    .msg{margin-bottom:12px;max-width:78%;line-height:1.4}
    .msg-bot span{display:block;background:var(--bubble-bg);color:var(--text);padding:12px 14px;border-radius:12px;white-space:pre-wrap;}
    .msg-user{justify-self:end;text-align:right;}
    .msg-user span{display:inline-block;background:var(--green);color:#fff;padding:10px 14px;border-radius:14px 14px 2px 14px;max-width:100%;word-wrap:break-word}
    .msg img{display:block;margin-top:8px;max-width:240px;border-radius:8px;box-shadow:0 4px 10px rgba(0,0,0,0.06)}
    .chat-footer{display:flex;gap:8px;align-items:center;padding:12px;border-top:1px solid #eee}
    .chat-footer input[type="text"]{flex:1;padding:10px 14px;border-radius:999px;border:1px solid #ddd;outline:none}
    .chat-footer button.send{background:var(--accent);color:#fff;border:none;padding:10px 16px;border-radius:999px;cursor:pointer}
    .chat-footer button.send:disabled{opacity:.6;cursor:default}
    .status{font-size:13px;color:#6b7280;padding:6px 0 0 6px}

    /* right column (upload debug / old UI) â€” kept but will hide JSON block visually on final */
    .right{padding:18px;border-left:1px solid #f1f1f1;background:#fff}
    .upload-title{font-weight:700;margin-bottom:10px}
    .upload-controls{display:flex;flex-direction:column;gap:8px}
    .upload-controls input[type=file]{}
    .upload-controls .buttons{display:flex;gap:8px}
    .upload-controls button{padding:6px 10px;border-radius:6px;border:1px solid #ccc;background:#fff;cursor:pointer}
    .upload-url{color:#0b6a3b;padding-top:6px;word-break:break-all}
    pre.json{background:#f8fafc;border-radius:8px;padding:12px;height:360px;overflow:auto;margin-top:8px;font-size:12px}
    /* small screen */
    @media(max-width:880px){
      .chat-wrapper{grid-template-columns:1fr;max-width:720px}
      .right{order:2;border-left:none;border-top:1px solid #f1f1f1}
    }
  </style>
</head>
<body>
  <div class="chat-wrapper">
    <div class="left">
      <div class="chat-header">
        <div>
          TatvaBot â€“ Gardening Assistant
          <small>Ask about vermicompost, balcony/terrace gardening, Tatvabhoomi products</small>
        </div>
      </div>

      <div id="chat-window" class="chat-window">
        <div class="msg msg-bot"><span>ðŸ‘‹ Namaste! Iâ€™m TatvaBot. How can I help you with your plants or vermicompost today?</span></div>
      </div>

      <div id="status" class="status"></div>

      <!-- chat footer: text input + file chooser + upload inside the footer (WhatsApp-style) -->
